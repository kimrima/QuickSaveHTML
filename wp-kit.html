<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WP Ultimate Kit - QuickSaveHTML</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* [1] ÎîîÏûêÏù∏ Î≥ÄÏàò (Î©îÏù∏ ÏÇ¨Ïù¥Ìä∏ÏôÄ ÌÜµÏùº: Dark Blue-Gray Theme) */
        :root {
            --primary: #2563eb;
            --bg-dark: #111827;
            --bg-panel: #1f2937;
            --text-main: #f3f4f6;
            --text-sub: #9ca3af;
            --border: #374151;
        }
        
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: var(--bg-dark); color: var(--text-main); display: flex; flex-direction: column; height: 100vh; overflow: hidden; }

        /* [2] ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Î∞î (Î™®Î∞îÏùº ÎåÄÏùë) */
        .nav-bar { background: #0f172a; border-bottom: 1px solid var(--border); padding: 0 20px; height: 40px; display: flex; align-items: center; gap: 20px; font-size: 13px; font-weight: 600; flex-shrink: 0; }
        .nav-link { text-decoration: none; color: var(--text-sub); display: flex; align-items: center; gap: 6px; padding: 4px 8px; border-radius: 4px; transition: 0.2s; white-space: nowrap; }
        .nav-link:hover { color: white; background: rgba(255,255,255,0.1); }
        .nav-link.active { color: #60a5fa; background: rgba(37, 99, 235, 0.1); }

        /* [3] Î†àÏù¥ÏïÑÏõÉ */
        .workspace { display: flex; flex: 1; overflow: hidden; height: calc(100vh - 40px - 40px); }
        .sidebar { width: 260px; background: var(--bg-panel); border-right: 1px solid var(--border); display: flex; flex-direction: column; overflow-y: auto; flex-shrink: 0; }
        .sidebar-header { padding: 15px; font-size: 12px; font-weight: bold; color: var(--text-sub); text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid var(--border); }
        .category-label { padding: 15px 20px 5px; font-size: 11px; font-weight: bold; color: #60a5fa; text-transform: uppercase; }
        .tool-btn { padding: 8px 20px; cursor: pointer; font-size: 13px; color: var(--text-main); border-left: 3px solid transparent; transition: 0.2s; }
        .tool-btn:hover { background: rgba(255,255,255,0.05); color: white; }
        .tool-btn.active { background: rgba(37, 99, 235, 0.1); border-left-color: var(--primary); color: white; font-weight: 600; }

        .main-panel { flex: 1; padding: 30px; overflow-y: auto; display: flex; flex-direction: column; gap: 25px; max-width: 1000px; margin: 0 auto; width: 100%; }
        .config-box { background: var(--bg-panel); padding: 20px; border-radius: 6px; border: 1px solid var(--border); }
        .config-title { margin: 0 0 20px 0; color: white; font-size: 18px; padding-bottom: 10px; border-bottom: 1px solid var(--border); }

        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; color: var(--text-sub); margin-bottom: 6px; font-size: 12px; }
        .input-group input, .input-group textarea, .input-group select { width: 100%; background: var(--bg-dark); border: 1px solid var(--border); color: var(--text-main); padding: 8px 12px; border-radius: 4px; box-sizing: border-box; font-size: 13px; }
        .input-group textarea { height: 80px; resize: vertical; font-family: inherit; line-height: 1.5; }
        .input-group input:focus, .input-group textarea:focus, .input-group select:focus { outline: 1px solid var(--primary); border-color: var(--primary); }
        
        .helper-text { font-size: 11px; color: #6b7280; margin-top: 4px; display: block; }

        .preview-box { background: white; color: #333; padding: 40px; border-radius: 6px; min-height: 150px; border: 1px solid #d1d5db; display: flex; flex-direction: column; align-items: center; justify-content: center; overflow-x: auto; }
        .code-box { width: 100%; height: 120px; background: #111827; color: #e6edf3; border: 1px solid var(--border); padding: 15px; border-radius: 6px; font-family: 'Menlo', 'Monaco', monospace; resize: none; box-sizing: border-box; font-size: 12px; line-height: 1.5; }
        .code-wrapper { position: relative; }
        .copy-btn { position: absolute; top: 10px; right: 10px; background: #16a34a; color: white; border: none; padding: 5px 12px; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: bold; }
        .copy-btn:hover { background: #15803d; }
        .section-label { color: var(--text-sub); font-size: 12px; margin-bottom: 8px; display: block; font-weight: 600; }

        /* [4] Mobile Optimization */
        @media (max-width: 768px) { 
            body { height: auto; overflow-y: auto; }
            .nav-bar { height: auto; flex-wrap: wrap; padding: 10px; gap: 10px; justify-content: center; }
            .nav-link { background: #1f2937; padding: 8px 12px; margin: 0; font-size: 12px; flex: 1 1 auto; justify-content: center; }
            .workspace { flex-direction: column; height: auto; overflow: visible; padding-bottom: 80px; } 
            .sidebar { width: 100%; max-height: 200px; border-right: none; border-bottom: 2px solid var(--border); } 
            .main-panel { padding: 15px; width: 100%; box-sizing: border-box; }
        }
    </style>
</head>
<body>

    <div class="nav-bar">
        <a href="index.html" class="nav-link"><i class="fas fa-code"></i> Editor</a>
        <a href="diff.html" class="nav-link"><i class="fas fa-exchange-alt"></i> Diff Checker</a>
        <a href="format.html" class="nav-link"><i class="fas fa-broom"></i> Formatter</a>
        <a href="wp-kit.html" class="nav-link active"><i class="fas fa-box-open"></i> WP Kit</a>
    </div>

    <div class="workspace">
        <div class="sidebar">
            <div class="sidebar-header">WP Generator Tools</div>
            <div id="sidebarMenu"></div>
        </div>

        <div class="main-panel">
            <div style="background: var(--bg-panel); border: 1px solid var(--border); border-left: 4px solid var(--primary); padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                <h4 style="margin: 0 0 10px 0; color: #60a5fa; font-size: 14px;">üöÄ How to use in WordPress</h4>
                <ol style="margin: 0; padding-left: 20px; color: var(--text-sub); font-size: 13px; line-height: 1.6;">
                    <li>Select a tool and <strong>customize settings</strong>.</li>
                    <li>For lists/tables, use <strong>"Enter"</strong> to add rows.</li>
                    <li>Click <strong>Copy Code</strong> and paste into WP "Custom HTML" block.</li>
                </ol>
            </div>

            <div class="config-box">
                <h2 class="config-title" id="toolTitle">Select a Tool</h2>
                <div id="inputForm"></div>
            </div>

            <div>
                <span class="section-label">Real-time Preview</span>
                <div class="preview-box" id="previewBox">Select a tool...</div>
            </div>

            <div>
                <span class="section-label">HTML Code</span>
                <div class="code-wrapper">
                    <textarea class="code-box" id="resultCode" readonly></textarea>
                    <button class="copy-btn" onclick="copyCode()">Copy Code</button>
                </div>
            </div>
        </div>
    </div>

    <footer style="position: fixed; bottom: 0; left: 0; width: 100%; background-color: #0d1117; border-top: 1px solid #30363d; padding: 6px 0; z-index: 9999; font-family: sans-serif; line-height: 1.4;">
        <div style="display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 10px; margin-bottom: 4px; padding: 0 10px;">
            <span style="font-size: 11px; color: #8b949e; font-style: italic;">"Focusing on simplicity to solve real-world problems."</span>
            <span style="color: #30363d; font-size: 10px;">|</span>
            <div style="display: flex; gap: 10px; align-items: center;">
                <a href="https://unitools.store" target="_blank" style="color: #c9d1d9; text-decoration: none; font-size: 11px;">üõ†Ô∏è UniTools</a>
                <a href="https://whatsthatthing.net" target="_blank" style="color: #c9d1d9; text-decoration: none; font-size: 11px;">üîç What's That Thing</a>
                <a href="https://fidnmysite.site" target="_blank" style="color: #c9d1d9; text-decoration: none; font-size: 11px;">üåê FindMySite</a>
                <a href="https://recipehub.store" target="_blank" style="color: #c9d1d9; text-decoration: none; font-size: 11px;">üë®‚Äçüç≥ RecipeHub</a>
            </div>
        </div>
        <div style="text-align: center; font-size: 10px; color: #484f58;">
            <span onclick="openModal('privacyModal')" style="cursor:pointer; margin: 0 6px;">Privacy</span> | <span onclick="openModal('termsModal')" style="cursor:pointer; margin: 0 6px;">Terms</span> | <span style="margin-left: 6px;">¬© 2026 QuickSaveHTML</span>
        </div>
    </footer>

    <script>
        /* * üë®‚Äçüç≥ CHEF'S SPECIAL: ULTIMATE VERSION
         * Features:
         * 1. Rich Customization (Shape, Shadow, Size)
         * 2. Multi-line Expansion (Tables, Lists)
         * 3. Auto-Save (LocalStorage)
         * 4. Link Inputs (No more '#')
         */
        const tools = [
            // --- 1. MONEY MAKERS ---
            {
                id: 'cta-btn', category: 'üí∞ Monetization', name: 'Ultimate CTA Button',
                inputs: [
                    { id: 'text', label: 'Button Text', type: 'text', val: 'Get Started Now' },
                    { id: 'link', label: 'Target URL', type: 'text', val: 'https://' },
                    { id: 'color', label: 'Color Theme', type: 'select', options: {'#ef4444':'Red (Urgent)', '#2563eb':'Blue (Trust)', '#16a34a':'Green (Success)', '#f59e0b':'Orange (Warning)', '#000000':'Black (Modern)'} },
                    { id: 'size', label: 'Size', type: 'select', options: {'12px 25px':'Small', '15px 40px':'Medium', '20px 50px':'Large'} },
                    { id: 'shape', label: 'Shape', type: 'select', options: {'50px':'Pill (üíä)', '8px':'Rounded (üî≤)', '0px':'Square (‚¨õ)'} },
                    { id: 'shadow', label: 'Shadow', type: 'select', options: {'none':'Flat', '0 4px 6px rgba(0,0,0,0.1)':'Soft', '0 10px 15px rgba(0,0,0,0.2)':'Deep'} }
                ],
                template: (d) => `<div style="text-align:center; margin:30px 0;"><a href="${d.link}" target="_blank" style="display:inline-block; background:${d.color}; color:white; padding:${d.size}; text-decoration:none; font-weight:bold; font-size:18px; border-radius:${d.shape}; box-shadow:${d.shadow}; transition: transform 0.2s;">${d.text} ‚û§</a></div>`
            },
            {
                id: 'affiliate-box', category: 'üí∞ Monetization', name: 'Product Box (Amazon Style)',
                inputs: [
                    { id: 'title', label: 'Product Name', type: 'text', val: 'Sony WH-1000XM5' },
                    { id: 'img', label: 'Image URL', type: 'text', placeholder: 'https://example.com/image.jpg' },
                    { id: 'desc', label: 'Features (One per line)', type: 'textarea', val: 'Noise Cancelling\n30-hour Battery\nUltra Comfortable' },
                    { id: 'link', label: 'Affiliate URL', type: 'text', val: 'https://amzn.to/...' },
                    { id: 'btnColor', label: 'Button Color', type: 'select', options: {'#ff9900':'Amazon Orange', '#2563eb':'Blue', '#000000':'Black'} },
                    { id: 'layout', label: 'Layout', type: 'select', options: {'row':'Horizontal (Side-by-side)', 'column':'Vertical (Stacked)'} }
                ],
                template: (d) => {
                    const feats = d.desc.split('\n').filter(t=>t.trim()).map(t=>`<li>${t}</li>`).join('');
                    const isVertical = d.layout === 'column';
                    return `<div style="border:1px solid #ddd; padding:20px; border-radius:8px; display:flex; flex-direction:${d.layout}; flex-wrap:wrap; gap:20px; align-items:center; background:white; margin:20px 0; text-align:${isVertical ? 'center' : 'left'};"><div style="flex:1; min-width:150px; text-align:center;"><img src="${d.img||'https://via.placeholder.com/150'}" style="max-width:100%; border-radius:8px; height:auto;"></div><div style="flex:2; min-width:250px;"><h3 style="margin:0 0 10px 0;">${d.title}</h3><ul style="color:#555; padding-left:20px; margin-bottom:15px; text-align:left; display:inline-block;">${feats}</ul><br><a href="${d.link}" target="_blank" style="display:inline-block; background:${d.btnColor}; color:${d.btnColor==='#ff9900'?'black':'white'}; padding:10px 25px; text-decoration:none; font-weight:bold; border-radius:5px;">Buy Now ‚û§</a></div></div>`;
                }
            },
            {
                id: 'comparison', category: 'üí∞ Monetization', name: 'Comparison Table (Dynamic)',
                inputs: [
                    { id: 'prodA', label: 'Product A Name', type: 'text', val: 'iPhone 15' },
                    { id: 'prodB', label: 'Product B Name', type: 'text', val: 'Galaxy S24' },
                    { id: 'rows', label: 'Rows (Format: Feature | A Value | B Value)', type: 'textarea', val: 'Price | $799 | $799\nBattery | 20h | 24h\nCamera | 48MP | 50MP', help: 'Use | to separate columns. Press Enter for new row.' }
                ],
                template: (d) => {
                    const rowsHtml = d.rows.split('\n').filter(r=>r.trim()).map(row => {
                        const cols = row.split('|');
                        return `<tr><td style="padding:10px; border:1px solid #ddd;">${cols[0]||''}</td><td style="padding:10px; border:1px solid #ddd;">${cols[1]||''}</td><td style="padding:10px; border:1px solid #ddd;">${cols[2]||''}</td></tr>`;
                    }).join('');
                    return `<table style="width:100%; border-collapse:collapse; margin:20px 0; text-align:center;"><thead><tr style="background:#f3f4f6;"><th style="padding:10px; border:1px solid #ddd;">Feature</th><th style="padding:10px; border:1px solid #ddd; color:#2563eb;">${d.prodA}</th><th style="padding:10px; border:1px solid #ddd; color:#2563eb;">${d.prodB}</th></tr></thead><tbody>${rowsHtml}</tbody></table>`
                }
            },
            {
                id: 'pricing-table', category: 'üí∞ Monetization', name: 'Pricing Card',
                inputs: [
                    { id: 'plan', label: 'Plan Name', type: 'text', val: 'Pro Plan' },
                    { id: 'price', label: 'Price', type: 'text', val: '$29' },
                    { id: 'features', label: 'Features (Line separated)', type: 'textarea', val: 'Unlimited Access\n24/7 Support\nFree Updates' },
                    { id: 'link', label: 'Purchase URL', type: 'text', val: 'https://' },
                    { id: 'highlight', label: 'Highlight Color', type: 'select', options: {'#2563eb':'Blue', '#10b981':'Green', '#ef4444':'Red', '#8b5cf6':'Purple'} }
                ],
                template: (d) => `<div style="border:2px solid ${d.highlight}; border-radius:10px; padding:30px; text-align:center; max-width:300px; margin:20px auto; box-shadow:0 10px 15px rgba(0,0,0,0.05); background:white;"><h3 style="margin:0; color:#333;">${d.plan}</h3><div style="font-size:36px; font-weight:bold; color:${d.highlight}; margin:15px 0;">${d.price}</div><ul style="list-style:none; padding:0; margin:20px 0;">${d.features.split('\n').map(t=>`<li style="margin-bottom:8px;">‚úîÔ∏è ${t}</li>`).join('')}</ul><a href="${d.link}" style="display:block; background:${d.highlight}; color:white; padding:12px; border-radius:6px; text-decoration:none; font-weight:bold;">Choose Plan</a></div>`
            },
            {
                id: 'pros-cons', category: 'üí∞ Monetization', name: 'Pros & Cons Box',
                inputs: [
                    { id: 'style', label: 'Style', type: 'select', options: {'classic':'Classic (Red/Green)', 'minimal':'Minimal (Black/White)'} },
                    { id: 'pros', label: 'Pros', type: 'textarea', val: 'Fast Shipping\nGood Quality' },
                    { id: 'cons', label: 'Cons', type: 'textarea', val: 'Expensive' }
                ],
                template: (d) => {
                    const isClassic = d.style === 'classic';
                    const greenBg = isClassic ? '#f0fdf4' : '#f9fafb';
                    const greenBorder = isClassic ? '#bbf7d0' : '#e5e7eb';
                    const redBg = isClassic ? '#fef2f2' : '#f9fafb';
                    const redBorder = isClassic ? '#fecaca' : '#e5e7eb';
                    return `<div style="display:flex; gap:15px; flex-wrap:wrap; margin:20px 0;"><div style="flex:1; min-width:250px; background:${greenBg}; border:1px solid ${greenBorder}; padding:20px; border-radius:8px;"><h4 style="margin:0 0 10px 0; color:${isClassic?'#166534':'#333'};">üëç Pros</h4><ul style="margin:0; padding-left:20px;">${d.pros.split('\n').map(t=>`<li>${t}</li>`).join('')}</ul></div><div style="flex:1; min-width:250px; background:${redBg}; border:1px solid ${redBorder}; padding:20px; border-radius:8px;"><h4 style="margin:0 0 10px 0; color:${isClassic?'#991b1b':'#333'};">üëé Cons</h4><ul style="margin:0; padding-left:20px;">${d.cons.split('\n').map(t=>`<li>${t}</li>`).join('')}</ul></div></div>`;
                }
            },
            {
                id: 'coupon-box', category: 'üí∞ Monetization', name: 'Coupon Box',
                inputs: [
                    { id: 'code', label: 'Code', type: 'text', val: 'SALE2025' }, 
                    { id: 'desc', label: 'Description', type: 'text', val: 'Get 20% OFF' },
                    { id: 'style', label: 'Border Style', type: 'select', options: {'dashed':'Dashed', 'solid':'Solid', 'dotted':'Dotted'} }
                ],
                template: (d) => `<div style="border:2px ${d.style} #3b82f6; background:#eff6ff; padding:20px; text-align:center; border-radius:8px; margin:20px 0;"><p style="margin:0 0 10px 0; color:#1e40af; font-weight:bold;">${d.desc}</p><span style="font-size:24px; font-weight:bold; color:#1d4ed8; background:white; padding:8px 20px; border:1px solid #bfdbfe; border-radius:4px; display:inline-block;">${d.code}</span></div>`
            },

            // --- 2. STRUCTURE & LAYOUT ---
            {
                id: 'faq', category: 'üß± Structure', name: 'FAQ Accordion (Multi)',
                inputs: [
                    { id: 'items', label: 'Q&A List (Format: Question | Answer)', type: 'textarea', val: 'Is it refundable? | Yes, 30 days.\nHow do I install? | Just copy paste.', help: 'One Q&A per line. Use | to separate Q and A.' }
                ],
                template: (d) => {
                    return d.items.split('\n').filter(r=>r.includes('|')).map(row => {
                        const [q, a] = row.split('|');
                        return `<details style="margin:10px 0; border:1px solid #e5e7eb; border-radius:8px; padding:12px; background:white;"><summary style="font-weight:bold; cursor:pointer;">‚ùì ${q.trim()}</summary><div style="padding:10px 0 0 0; color:#555; line-height:1.6;">${a.trim()}</div></details>`;
                    }).join('');
                }
            },
            {
                id: 'timeline', category: 'üß± Structure', name: 'Vertical Timeline (Dynamic)',
                inputs: [
                    { id: 'events', label: 'Events (Format: Year | Title | Desc)', type: 'textarea', val: '2024 | Started | We launched MVP.\n2025 | Growth | reached 10k users.', help: 'Use | to separate parts.' }
                ],
                template: (d) => {
                    const html = d.events.split('\n').filter(r=>r.trim()).map(row => {
                        const [y, t, desc] = row.split('|');
                        return `<div style="margin-bottom:20px; position:relative;"><div style="position:absolute; left:-26px; top:0; width:12px; height:12px; background:#2563eb; border-radius:50%;"></div><strong>${y||''}</strong> - ${t||''}<br><span style="color:#666;">${desc||''}</span></div>`;
                    }).join('');
                    return `<div style="border-left:2px solid #ddd; padding-left:20px; margin-left:10px;">${html}</div>`;
                }
            },
            {
                id: 'responsive-table', category: 'üß± Structure', name: 'Responsive Table (Dynamic)',
                inputs: [
                    { id: 'headers', label: 'Headers (Comma separated)', type: 'text', val: 'Item, Cost, Stock' },
                    { id: 'rows', label: 'Rows (Comma separated values)', type: 'textarea', val: 'Apple, $1, 100\nBanana, $2, 50\nCherry, $3, 200' }
                ],
                template: (d) => {
                    const ths = d.headers.split(',').map(h=>`<th style="padding:10px; border:1px solid #ddd;">${h.trim()}</th>`).join('');
                    const trs = d.rows.split('\n').filter(r=>r.trim()).map(row => {
                        const tds = row.split(',').map(c=>`<td style="padding:10px; border:1px solid #ddd;">${c.trim()}</td>`).join('');
                        return `<tr>${tds}</tr>`;
                    }).join('');
                    return `<div style="overflow-x:auto;"><table style="width:100%; border-collapse:collapse; min-width:400px;"><thead><tr style="background:#f3f4f6;">${ths}</tr></thead><tbody>${trs}</tbody></table></div>`;
                }
            },
            {
                id: 'toc', category: 'üß± Structure', name: 'Table of Contents',
                inputs: [{ id: 'title', label: 'Title', type: 'text', val: 'Contents' }],
                template: (d) => `<div style="background:#f9fafb; padding:20px; border-radius:8px; border:1px solid #e5e7eb; display:inline-block;"><h4 style="margin:0 0 10px 0;">${d.title}</h4><ul style="margin:0; padding-left:20px;"><li><a href="#1">Introduction</a></li><li><a href="#2">Main Point</a></li><li><a href="#3">Conclusion</a></li></ul></div>`
            },
            {
                id: 'grid-2col', category: 'üß± Structure', name: '2-Column Grid',
                inputs: [{ id: 'l', label: 'Left Content', type: 'textarea', val: 'Text Left' }, { id: 'r', label: 'Right Content', type: 'textarea', val: 'Text Right' }],
                template: (d) => `<div style="display:flex; flex-wrap:wrap; gap:20px; margin:20px 0;"><div style="flex:1; min-width:300px; padding:15px; background:#f9f9f9;">${d.l}</div><div style="flex:1; min-width:300px; padding:15px; background:#f9f9f9;">${d.r}</div></div>`
            },

            // --- 3. SOCIAL & MEDIA ---
            {
                id: 'link-bio', category: 'üì¢ Social & Media', name: 'Link In Bio Card',
                inputs: [
                    { id: 'name', label: 'Profile Name', type: 'text', val: '@MyName' },
                    { id: 'bio', label: 'Short Bio', type: 'text', val: 'Welcome to my page.' },
                    { id: 'links', label: 'Links (Format: Text | URL)', type: 'textarea', val: 'My Blog | https://blog.com\nInstagram | https://instagram.com', help: 'Enter creates new button.' }
                ],
                template: (d) => {
                    const btns = d.links.split('\n').filter(r=>r.includes('|')).map(row => {
                        const [txt, url] = row.split('|');
                        return `<a href="${url.trim()}" target="_blank" style="display:block; background:white; border:1px solid #ccc; padding:12px; margin-bottom:10px; text-decoration:none; color:black; border-radius:8px;">${txt.trim()}</a>`;
                    }).join('');
                    return `<div style="max-width:350px; margin:0 auto; text-align:center; padding:30px; border:1px solid #ddd; border-radius:15px; background:#fafafa;"><div style="width:80px; height:80px; background:#ddd; border-radius:50%; margin:0 auto 15px;"></div><h3 style="margin:0;">${d.name}</h3><p style="color:#666; margin-bottom:20px;">${d.bio}</p>${btns}</div>`
                }
            },
            {
                id: 'social-share', category: 'üì¢ Social & Media', name: 'Social Share Links',
                inputs: [
                    { id: 'txt', label: 'Label', type: 'text', val: 'Share this:' },
                    { id: 'url', label: 'URL to Share (Empty for current page)', type: 'text', placeholder: 'https://mysite.com' }
                ],
                template: (d) => {
                    const u = d.url || 'window.location.href'; 
                    return `<div style="text-align:center; margin:20px 0;"><p style="margin-bottom:10px; color:#666;">${d.txt}</p><a href="https://www.facebook.com/sharer/sharer.php?u=${d.url}" target="_blank" style="padding:8px 15px; background:#3b5998; color:white; text-decoration:none; border-radius:4px; margin:5px;">Facebook</a><a href="https://twitter.com/intent/tweet?url=${d.url}" target="_blank" style="padding:8px 15px; background:#1da1f2; color:white; text-decoration:none; border-radius:4px; margin:5px;">Twitter</a></div>`
                }
            },
            {
                id: 'youtube', category: 'üì¢ Social & Media', name: 'Responsive YouTube',
                inputs: [{ id: 'url', label: 'Embed URL (src)', type: 'text', placeholder: 'https://www.youtube.com/embed/...' }],
                template: (d) => `<div style="width:100%; position:relative; padding-bottom:56.25%; height:0; overflow:hidden; border-radius:8px;"><iframe src="${d.url}" style="position:absolute; top:0; left:0; width:100%; height:100%; border:0;" allowfullscreen></iframe></div>`
            },
            {
                id: 'gmap', category: 'üì¢ Social & Media', name: 'Google Maps',
                inputs: [{ id: 'url', label: 'Embed Link', type: 'text', placeholder: 'https://www.google.com/maps/embed?...' }],
                template: (d) => `<div style="width:100%; position:relative; padding-bottom:56.25%; height:0; overflow:hidden; border-radius:8px;"><iframe src="${d.url}" style="position:absolute; top:0; left:0; width:100%; height:100%; border:0;" allowfullscreen></iframe></div>`
            },
            {
                id: 'review-box', category: 'üì¢ Social & Media', name: 'Review / Testimonial',
                inputs: [{ id: 'name', label: 'Name', type: 'text', val: 'John Doe' }, { id: 'text', label: 'Review', type: 'textarea', val: 'Amazing service!' }],
                template: (d) => `<div style="background:#f9f9f9; padding:20px; border-radius:10px; border:1px solid #eee; text-align:center;"><div style="font-size:20px; margin-bottom:10px;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div><p style="font-style:italic;">"${d.text}"</p><strong>- ${d.name}</strong></div>`
            },
            {
                id: 'click-tweet', category: 'üì¢ Social & Media', name: 'Click to Tweet',
                inputs: [{ id: 'q', label: 'Quote', type: 'text', val: 'This is awesome!' }],
                template: (d) => `<div style="border:2px solid #1da1f2; padding:15px; border-radius:8px; display:flex; justify-content:space-between; align-items:center; gap:10px;"><span>"${d.q}"</span><a href="https://twitter.com/intent/tweet?text=${encodeURIComponent(d.q)}" target="_blank" style="background:#1da1f2; color:white; padding:8px 15px; border-radius:20px; text-decoration:none; font-size:12px; font-weight:bold; white-space:nowrap;">Tweet üê¶</a></div>`
            },
            {
                id: 'author', category: 'üì¢ Social & Media', name: 'Author Box',
                inputs: [{ id: 'name', label: 'Name', type: 'text', val: 'Author Name' }, { id: 'bio', label: 'Bio', type: 'textarea', val: 'I write about tech.' }],
                template: (d) => `<div style="display:flex; gap:15px; background:#fff; border:1px solid #ddd; padding:20px; border-radius:8px; align-items:center;"><div style="width:60px; height:60px; background:#ddd; border-radius:50%;"></div><div><h4 style="margin:0;">${d.name}</h4><p style="margin:5px 0 0 0; font-size:14px; color:#666;">${d.bio}</p></div></div>`
            },

            // --- 4. DESIGN ---
            {
                id: 'alert-box', category: 'üé® Design & UI', name: 'Alert / Info Box',
                inputs: [
                    { id: 'type', label: 'Type', type: 'select', options: {'#eff6ff,#1e40af':'‚ÑπÔ∏è Info', '#f0fdf4,#15803d':'‚úÖ Success', '#fef2f2,#b91c1c':'‚ö†Ô∏è Warning', '#fffbeb,#b45309':'üí° Tip'} }, 
                    { id: 'style', label: 'Design Style', type: 'select', options: {'left-border':'Left Border', 'full-border':'Full Border', 'solid':'Solid Fill'} },
                    { id: 'txt', label: 'Message', type: 'textarea', val: 'This is an important note.' }
                ],
                template: (d) => { 
                    const [bg, color] = d.type.split(','); 
                    let style = `background:${bg}; color:${color}; padding:15px; border-radius:4px; margin:20px 0;`;
                    if (d.style === 'left-border') style += ` border-left:5px solid ${color};`;
                    if (d.style === 'full-border') style += ` border:1px solid ${color};`;
                    return `<div style="${style}">${d.txt}</div>` 
                }
            },
            {
                id: 'divider', category: 'üé® Design & UI', name: 'Styled Divider',
                inputs: [
                    { id: 's', label: 'Style', type: 'select', options: {'dashed':'Dashed', 'dotted':'Dotted', 'solid':'Solid'} },
                    { id: 'w', label: 'Width', type: 'select', options: {'100%':'Full', '50%':'Half', '25%':'Small'} },
                    { id: 'c', label: 'Color', type: 'select', options: {'#ccc':'Gray', '#2563eb':'Blue', '#ef4444':'Red'} }
                ],
                template: (d) => `<hr style="width:${d.w}; border:0; border-top:3px ${d.s} ${d.c}; margin:40px auto;">`
            },
            {
                id: 'highlight', category: 'üé® Design & UI', name: 'Highlight Marker',
                inputs: [
                    { id: 'txt', label: 'Text', type: 'text', val: 'Important' },
                    { id: 'color', label: 'Color', type: 'select', options: {'#fde047':'Yellow', '#86efac':'Green', '#93c5fd':'Blue', '#fca5a5':'Red'} }
                ],
                template: (d) => `<span style="background:linear-gradient(to top, ${d.color} 50%, transparent 50%); font-weight:bold; padding:0 4px;">${d.txt}</span>`
            },
            {
                id: 'glass-card', category: 'üé® Design & UI', name: 'Glassmorphism Card',
                inputs: [{ id: 'txt', label: 'Text', type: 'text', val: 'Modern Design' }],
                template: (d) => `<div style="background: rgba(255, 255, 255, 0.25); box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37); backdrop-filter: blur(4px); border-radius: 10px; border: 1px solid rgba(255, 255, 255, 0.18); padding:30px; text-align:center; margin:20px 0;"><h3>${d.txt}</h3></div>`
            },
            {
                id: 'quote', category: 'üé® Design & UI', name: 'Modern Quote',
                inputs: [{ id: 'q', label: 'Quote', type: 'textarea', val: 'Be yourself.' }, { id: 'a', label: 'Author', type: 'text', val: 'Oscar Wilde' }],
                template: (d) => `<blockquote style="border-left:5px solid #333; margin:20px 0; padding-left:20px; font-style:italic; font-size:18px; color:#555;">"${d.q}"<br><strong style="font-size:14px; color:#333;">‚Äî ${d.a}</strong></blockquote>`
            }
        ];

        // --- Core Logic (with Auto-Save) ---
        let currentTool = null;
        function init() {
            const menu = document.getElementById('sidebarMenu');
            menu.innerHTML = '';
            let lastCategory = '';
            tools.forEach(tool => {
                if (tool.category !== lastCategory) {
                    const catTitle = document.createElement('div');
                    catTitle.className = 'category-label';
                    catTitle.textContent = tool.category;
                    menu.appendChild(catTitle);
                    lastCategory = tool.category;
                }
                const btn = document.createElement('div');
                btn.className = 'tool-btn';
                btn.textContent = tool.name;
                btn.onclick = () => selectTool(tool.id, btn);
                menu.appendChild(btn);
            });
            // Load last used tool from LocalStorage
            const lastToolId = localStorage.getItem('wp-last-tool');
            if (lastToolId && tools.find(t => t.id === lastToolId)) {
                selectTool(lastToolId, null);
            } else if(tools.length > 0) {
                selectTool(tools[0].id, document.querySelectorAll('.tool-btn')[0]);
            }
        }

        function selectTool(id, element) {
            currentTool = tools.find(t => t.id === id);
            localStorage.setItem('wp-last-tool', id); // Save current tool

            // UI Active State
            document.querySelectorAll('.tool-btn').forEach(el => el.classList.remove('active'));
            if(!element) {
                // If loaded from storage, find the button manually
                const btns = document.querySelectorAll('.tool-btn');
                for(let b of btns) if(b.textContent === currentTool.name) { b.classList.add('active'); break; }
            } else { element.classList.add('active'); }

            document.getElementById('toolTitle').textContent = currentTool.name;
            const formBox = document.getElementById('inputForm');
            formBox.innerHTML = '';

            // Load saved input values
            const savedData = JSON.parse(localStorage.getItem('wp-data-' + id) || '{}');

            currentTool.inputs.forEach(inp => {
                const group = document.createElement('div');
                group.className = 'input-group';
                const label = document.createElement('label');
                label.textContent = inp.label;
                group.appendChild(label);
                
                let inputEl;
                if (inp.type === 'textarea') { inputEl = document.createElement('textarea'); }
                else if (inp.type === 'select') {
                    inputEl = document.createElement('select');
                    for (const [val, name] of Object.entries(inp.options)) {
                        const opt = document.createElement('option'); opt.value = val; opt.textContent = name; inputEl.appendChild(opt);
                    }
                } else { inputEl = document.createElement('input'); inputEl.type = inp.type; }
                
                // Set value from storage OR default
                inputEl.value = savedData[inp.id] !== undefined ? savedData[inp.id] : inp.val;
                
                if (inp.placeholder) inputEl.placeholder = inp.placeholder;
                inputEl.id = `inp-${inp.id}`;
                inputEl.addEventListener('input', generate);
                group.appendChild(inputEl);
                
                if(inp.help) {
                    const help = document.createElement('span');
                    help.className = 'helper-text';
                    help.textContent = inp.help;
                    group.appendChild(help);
                }
                formBox.appendChild(group);
            });
            generate();
        }

        function generate() {
            if (!currentTool) return;
            const data = {};
            currentTool.inputs.forEach(inp => { data[inp.id] = document.getElementById(`inp-${inp.id}`).value; });
            
            // Save inputs to LocalStorage
            localStorage.setItem('wp-data-' + currentTool.id, JSON.stringify(data));

            const html = currentTool.template(data);
            document.getElementById('previewBox').innerHTML = html;
            document.getElementById('resultCode').value = html;
        }

        function copyCode() {
            const code = document.getElementById('resultCode');
            code.select();
            document.execCommand('copy');
            const btn = document.querySelector('.copy-btn');
            btn.textContent = 'Copied!';
            setTimeout(() => btn.textContent = 'Copy Code', 2000);
        }
        function openModal(id) { alert("This would open the " + id); } 

        init();
    </script>
</body>
</html>
